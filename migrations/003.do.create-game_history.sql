begin;
CREATE TYPE playerTurn AS ENUM (
    'player1',
    'player2'
);

CREATE TYPE gameStatus AS ENUM (
    'active',
    'complete',
    'expired',
    'forfeited'
);

create table if not exists game_history (
    id integer primary key generated by default as identity not null,
    player1 integer references users(id) on delete set null,
    player2 integer references users(id) on delete set null default null,
    room_id text not null,
    next integer default null,
    turn playerTurn default 'player1',
    game_status gameStatus default 'active'
);
commit;